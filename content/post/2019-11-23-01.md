---
title: Highcharts でマルチタイムフレームのチャートを作った
date: 2019-11-23T09:00:00+09:00
tags:
  - Flask
  - Highcharts
image: 2019-11-23-01-01.png
---

Highcharts を使ってマルチタイムフレームのチャートを作ったのでその記録。

<!--more-->

## 環境

* macOS Catalina バージョン 10.15.0
* Python 3.7.4
* Flask 1.1.1
* numpy 1.17.2
* pandas 0.25.1
* requests 2.22.0
* Highstock JS v7.2.1 (2019-10-31)

## みんかぶFX

![](/img/2019-11-23-01-01.png)

[みんかぶFX](https://fx.minkabu.jp/pair/USDJPY)のチャート。
今回取得したデータの中では一番綺麗に見ることができた。

できるだけ広く表示したかったので、余白を可能なだけ少なくした。
軸ラベルも小さくした。
足の数は２４０本にした。
日足だと１年分程度表示できることになる。

それからCtrl+Fでフルスクリーンになるようにしたので、ブラウザーのバーとかの部分もチャートを表示することができる。

リアルタイムのデータじゃないけど、サンプルのチャートは次のリンクのところにアップした。

[みんかぶFXのサンプルのチャート](/html/2019-11-23-01/minkabu.html)

## The Wall Street Journal

![](/img/2019-11-23-01-02.png)

[The Wall Street Journal](https://www.wsj.com/market-data/quotes/fx/USDJPY)のチャート。
４時間足のデータを取ってくるAPIはないので、１時間足を４倍取ってきて４時間足にリサンプルする、というようなことをしている。
ただ、１時間足で取ってこれる範囲に限界があるようで、４時間足が短い期間しか表示できなかった。

[The Wall Street Journal のサンプルのチャート](/html/2019-11-23-01/wsj.html)

## Yahoo Finance

![](/img/2019-11-23-01-03.png)

[Yahoo Finance](https://finance.yahoo.com/quote/JPY=X?p=JPY=X&guccounter=1)のチャート。
日足がおかしい。
始値か終値が違うのかな。
１５分足もみんかぶFXに比べてヒゲが多いのも気になる。

[Yahoo Finance のサンプルのチャート](/html/2019-11-23-01/yahoo.html)

## 終わり

macOSにしてからcTrader Webを使うようにしているのだけど、起動が少し遅いので、素早くチェックするのに便利かなと思っている。

Flaskを含めたソースをGitHubにアップした。
